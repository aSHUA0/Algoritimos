//Atividade 01//
#include<stdio.h>
#include<math.h>

main(){
	int idade, maiorIdadeA= 0, maiorIdadeB= 0, maiorIdadeC= 0 ,maiorIdadeD= 0, maiorIdadeE= 0, rep, contadorTotal = 0, contadorA = 0, contadorB = 0, contadorC = 0, contadorD = 0, contadorE = 0, porcentagemB, porcentagemC, porcentagemE, diferenca;
	char nota;
	float mediaD;
	
	do{
		printf("Qual a sua idade?");
		scanf("%d", &idade);
		
		do{
			fflush(stdin);
			printf("Dê uma nota para o filme:\n A - Ótimo\n B - Bom\n C - Regular\n D - Ruim\n E - Pessimo\n");
			scanf("%c", &nota);
			if(nota != 'A' && nota != 'B' && nota != 'C' && nota != 'D' && nota != 'E'){
				printf("A nota que escolheste não está no quadro\n");	
			}
		}while(nota != 'A' && nota != 'B' && nota != 'C' && nota != 'D' && nota != 'E');
		
		//contador de notas
		
		if(nota == 'A'){
			contadorA++;
		}
		else if(nota == 'B'){
			contadorB++;
		}
		else if(nota == 'C'){
			contadorC++;
		}
		else if(nota == 'D'){
			contadorD++;
			mediaD += idade;
		}
		else{
			contadorE++;
		}
		
		//maior idade de cada nota
		
		if(nota == 'A' && idade > maiorIdadeA){
			maiorIdadeA = idade;
		}
		else if(nota == 'B' && idade > maiorIdadeB){
			maiorIdadeB = idade;
		}
		else if(nota == 'C' && idade > maiorIdadeC){
			maiorIdadeC = idade;
		}
		else if(nota == 'D' && idade > maiorIdadeD){
			maiorIdadeD = idade;
		}
		else if(nota == 'E' && idade > maiorIdadeE){
			maiorIdadeE = idade;
		}
	
		
		contadorTotal++;
		printf("Deseja fazer outra avaliação?\n1 - Sim\n 2 - Não\n");
		scanf("%d", &rep);
	}while(rep != 2);
	
	//Mostrar os resultados
	
	mediaD = mediaD / contadorTotal;
	porcentagemB = (contadorB * 100) / contadorTotal;
	porcentagemC = (contadorC * 100) / contadorTotal;
	porcentagemE = (contadorE * 100) / contadorTotal;
	diferenca = maiorIdadeA - maiorIdadeD;
	printf("Numero de avaliações otimas:%d", contadorA);
	printf("\nPorcentagem de avaliações boas:%d%", porcentagemB);
	printf("\nPorcentagem de avaliações regulares:%d%", porcentagemC);
	printf("\nMedia das pessoas que responderam ruim:%.2f", mediaD);
	printf("\nPorcentagem de avaliações pessimas:%d%\n A maior idade foi:%d", porcentagemE, maiorIdadeE);
	printf("\nA maior idade que respondeu Otimo foi de:%d\n A maior idade que respondeu ruim foi de:%d\n E a diferença deles é de:%d", maiorIdadeA, maiorIdadeD, diferenca);
}
